{"version":3,"file":"main-9d0e31f5.js","sources":["../../assets/main-24a7095b.js"],"sourcesContent":["!function(){const e=document.createElement(\"link\").relList;if(!(e&&e.supports&&e.supports(\"modulepreload\"))){for(const e of document.querySelectorAll('link[rel=\"modulepreload\"]'))t(e);new MutationObserver(e=>{for(const n of e)if(\"childList\"===n.type)for(const e of n.addedNodes)\"LINK\"===e.tagName&&\"modulepreload\"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),\"use-credentials\"===e.crossOrigin?t.credentials=\"include\":\"anonymous\"===e.crossOrigin?t.credentials=\"omit\":t.credentials=\"same-origin\",t}(e);fetch(e.href,t)}}();const e={init(){window.Telegram&&window.Telegram.WebApp&&(window.Telegram.WebApp.ready(),window.Telegram.WebApp.expand())},getUser:()=>window.Telegram&&window.Telegram.WebApp&&window.Telegram.WebApp.initDataUnsafe?window.Telegram.WebApp.initDataUnsafe.user:null,sendData(e){window.Telegram&&window.Telegram.WebApp&&window.Telegram.WebApp.sendData(JSON.stringify(e))},showAlert(e){window.Telegram&&window.Telegram.WebApp?window.Telegram.WebApp.showAlert(e):alert(e)}},t={formatCurrency:e=>new Intl.NumberFormat(\"en-US\",{style:\"currency\",currency:\"ETB\",minimumFractionDigits:2}).format(e),formatTimeAgo(e){const t=Date.now(),n=Math.round((t-e)/1e3),a=Math.round(n/60),s=Math.round(a/60),i=Math.round(s/24);return n<60?`${n}s ago`:a<60?`${a}m ago`:s<24?`${s}h ago`:i<30?`${i}d ago`:new Date(e).toLocaleDateString()}};class n{constructor(){this.user=null,this.transactions=[],this.init()}init(){e.init(),this.user=e.getUser(),this.setupEventListeners(),this.updateUI(),this.hideLoadingScreen()}setupEventListeners(){const e=document.getElementById(\"capture-payment-btn\"),t=document.getElementById(\"view-transactions-btn\"),n=document.getElementById(\"upload-statement-btn\"),a=document.getElementById(\"analytics-btn\");e&&e.addEventListener(\"click\",()=>this.handleCapturePayment()),t&&t.addEventListener(\"click\",()=>this.handleViewTransactions()),n&&n.addEventListener(\"click\",()=>this.handleUploadStatement()),a&&a.addEventListener(\"click\",()=>this.handleAnalytics());const s=document.getElementById(\"home-btn\"),i=document.getElementById(\"transactions-nav-btn\"),r=document.getElementById(\"profile-btn\");s&&s.addEventListener(\"click\",()=>this.showHome()),i&&i.addEventListener(\"click\",()=>this.handleViewTransactions()),r&&r.addEventListener(\"click\",()=>this.showProfile())}updateUI(){this.updateUserInfo(),this.loadSampleTransactions()}updateUserInfo(){const e=document.getElementById(\"user-name\"),t=document.getElementById(\"user-avatar\");this.user?(e&&(e.textContent=`Welcome, ${this.user.first_name||\"User\"}!`),t&&(t.textContent=(this.user.first_name||\"U\").charAt(0).toUpperCase())):(e&&(e.textContent=\"Welcome back!\"),t&&(t.textContent=\"U\"))}loadSampleTransactions(){this.transactions=[{id:\"tx1\",amount:150,bank_name:\"Dashen Bank\",receipt_number:\"DB12345\",created_at:Date.now()-36e5,status:\"completed\"},{id:\"tx2\",amount:200.5,bank_name:\"CBE\",receipt_number:\"CBE67890\",created_at:Date.now()-72e5,status:\"completed\"},{id:\"tx3\",amount:75.25,bank_name:\"Telebirr\",receipt_number:\"TB11223\",created_at:Date.now()-108e5,status:\"pending\"}],this.renderTransactions()}renderTransactions(){const e=document.getElementById(\"transactions-container\");e&&(0!==this.transactions.length?e.innerHTML=this.transactions.map(e=>`\\n      <div class=\"bg-white rounded-lg p-4 mb-3 shadow-sm border\">\\n        <div class=\"flex items-center justify-between\">\\n          <div class=\"flex items-center space-x-3\">\\n            <div class=\"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center\">\\n              <span class=\"text-white font-semibold text-sm\">${e.bank_name.charAt(0)}</span>\\n            </div>\\n            <div>\\n              <div class=\"font-semibold text-gray-900\">${t.formatCurrency(e.amount)}</div>\\n              <div class=\"text-sm text-gray-600\">${e.bank_name}</div>\\n            </div>\\n          </div>\\n          <div class=\"text-right\">\\n            <div class=\"text-xs text-gray-500\">${t.formatTimeAgo(e.created_at)}</div>\\n            <div class=\"text-xs ${\"completed\"===e.status?\"text-green-600\":\"text-yellow-600\"}\">\\n              ${e.status}\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\"mt-2 text-xs text-gray-500\">\\n          Ref: ${e.receipt_number}\\n        </div>\\n      </div>\\n    `).join(\"\"):e.innerHTML='\\n        <div class=\"text-center py-8\">\\n          <p class=\"text-gray-500\">No transactions yet</p>\\n          <p class=\"text-sm text-gray-400\">Start capturing payments to see them here</p>\\n        </div>\\n      ')}hideLoadingScreen(){const e=document.getElementById(\"loading-screen\"),t=document.getElementById(\"app\");e&&(e.style.display=\"none\"),t&&(t.style.opacity=\"1\")}handleCapturePayment(){var t;e.sendData({action:\"capture_payment\",user_id:null==(t=this.user)?void 0:t.id}),e.showAlert(\"Opening payment capture...\")}handleViewTransactions(){var t;e.sendData({action:\"view_transactions\",user_id:null==(t=this.user)?void 0:t.id}),e.showAlert(\"Loading transactions...\")}handleUploadStatement(){var t;e.sendData({action:\"upload_statement\",user_id:null==(t=this.user)?void 0:t.id}),e.showAlert(\"Opening statement upload...\")}handleAnalytics(){window.location.href=\"analytics.html\"}showHome(){this.updateUI()}showProfile(){e.showAlert(\"Profile feature coming soon!\")}}document.addEventListener(\"DOMContentLoaded\",()=>{new n}),window.VeriPayApp=n;\n//# sourceMappingURL=main-24a7095b.js.map\n"],"names":["e","document","createElement","relList","supports","querySelectorAll","t","MutationObserver","n","type","addedNodes","tagName","rel","observe","childList","subtree","ep","integrity","referrerPolicy","crossOrigin","credentials","href","init","window","Telegram","WebApp","ready","expand","getUser","initDataUnsafe","user","sendData","JSON","stringify","showAlert","alert","formatCurrency","Intl","NumberFormat","style","currency","minimumFractionDigits","format","formatTimeAgo","Date","now","Math","round","a","s","i","toLocaleDateString","constructor","this","transactions","setupEventListeners","updateUI","hideLoadingScreen","getElementById","addEventListener","handleCapturePayment","handleViewTransactions","handleUploadStatement","handleAnalytics","r","showHome","showProfile","updateUserInfo","loadSampleTransactions","textContent","first_name","charAt","toUpperCase","id","amount","bank_name","receipt_number","created_at","status","renderTransactions","length","innerHTML","map","join","display","opacity","action","user_id","location","VeriPayApp"],"mappings":"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"}